{% extends 'layout.html' %}

{% block content %}
<div class="content-section">
  <fieldset class="form-group">
    <legend class="border-bottom mt-4">{{ title }}</legend>
    
    <div class="row pt-2">
      <div class="col">
       <span class="form-text text-muted">You will be prompted for your account password.</span>
      </div>
    </div>
    <div class="row mt-4">
      <div class="col">
        <button class="btn btn-danger float-right" data-toggle="modal" data-target="#disable2FAModal">Disable 2FA</button>
      </div>
    </div>
  </fieldset>
</div>

<!-- Password prompt -->
<div class="modal fade" id="disable2FAModal" tabindex="-1" role="dialog" aria-labelledby="disable2FAModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <form method="POST" action="">
        {{ form.hidden_tag() }}
        <div class="modal-header">
          <h5 class="modal-title" id="disable2FAModalLabel">Are you sure want to disable 2FA for your account?</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col">
              <label class="mt-1 mr-2">Enter your password: </label>
            </div>
            <div class="col-7">
              {{ form.password(class="form-control form-control-sm") }}
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal" data-toggle="modal" data-target="#detailsModal">Cancel</button>
          {{ form.submit(class="btn btn-danger", **{'value': 'Disable'}) }}
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}
